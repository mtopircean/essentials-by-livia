{% include 'base.html' %}

<div class="container-fluid">
    <div class="row account-section">
        {% if user.is_authenticated %}
        <div class="col-12">
            <div class="text-center">
                <h5 class="toggle-details"> ACCOUNT DETAILS: <span class="toggle-icon">&#11167;</span></h5></span></h5>
            </div>
            <form id="user-details-form" method="post">
                <div id="user-details" class="container">
                    <div class="row col-12 edit-account">
                        <div class="row col-6 text-center edit-btn">
                            <button type="button" id="editProfileButton">
                                <h5>Edit: <span><i class="fa-solid fa-user-pen"></i></span></h5>
                            </button>
                        </div>
                        <div class="row col-6 text-center save-changes">
                            <button type="submit" id="saveProfileButton">
                                <h5>Save: <span><i class="fa-solid fa-floppy-disk"></i></span></h5>
                            </button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6 text-left">
                            <h6 class="form-labels"> First name:</h6>
                        </div>
                        <div class="col-6  user-contact-input">
                            <h6>{{ user_data.first_name }}</h6>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6 text-left">
                            <h6 class="form-labels"> Last name:</h6>
                        </div>
                        <div class="col-6 user-contact-input">
                            <h6>{{ user_data.last_name }}</h6>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6 text-left">
                            <h6 class="form-labels"> Email:</h6>
                        </div>
                        <div class="col-6 user-contact-input">
                            <h6>{{ user_data.email }}</h6>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6 text-left">
                            <h6 class="form-labels"> Phone:</h6>
                        </div>
                        <div class="col-6 user-contact-input">
                            <h6>{{ user_data.phone_number }}</h6>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6 text-left">
                            <h6 class="form-labels"> Join Team:</h6>
                        </div>
                        <div class="col-6  user-contact-input">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="teamYes"
                                    {% if user_data.join_team %} checked {% endif %}>
                                <label class="form-check-label" for="teamYes">Yes</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="teamNo"
                                    {% if not user_data.join_team %} checked {% endif %}>
                                <label class="form-check-label" for="teamNo">No</label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6 text-left">
                            <h6 class="form-labels"> Know more about the products:</h6>
                        </div>
                        <div class="col-6  user-contact-input">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="promotionsYes"
                                    {% if user_data.know_more_products %} checked {% endif %}>
                                <label class="form-check-label" for="promotionsYes">Yes</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="promotionsNo"
                                    {% if not user_data.know_more_products %} checked {% endif %}>
                                <label class="form-check-label" for="promotionsNo">No</label>
                            </div>
                        </div>
                    </div>
                </div>
        </div>
        </form>
    </div>
    {% endif %}
</div>

<div>
    <hr>
</div>
<div class="text-center">
    <h5 class="fav-section"> FAVOURITE PRODUCTS:</h5>
</div>
<div class="col-md-12">
    <pre>{{ user_favorites }}</pre>
    <div class="product-section">
        {% for favorite in user_favorites %}
        <div class="row">
            <div class="col-12 col-md-4 text-center">
                <img src="{{ favorite.product.image.url }}" alt="{{ favorite.product.name }} image" class="img-fluid">
            </div>
            <div class="d-flex align-items-center col-12 col-md-8">
                <div>
                    <span class="product-name">{{ favorite.product.name }}</span>
                    <br>
                    <form action="{% url 'favourite_selection' %}" method="post">
                        {% csrf_token %}
                        <input type="hidden" name="product_id" value="{{ favorite.product.id }}">
                        <button type="submit" class="add-to-favorites-btn" data-product-id="{{ favorite.product.id }}">
                            <i class="fas fa-heart"></i> Remove from Favorites
                        </button>
                    </form>
                    <h6>Description:</h6>
                    <span class="product-description">{{ favorite.product.description | safe }}</span>
                    <br>
                    <h6>Ailments:</h6>
                    {% for ailment in favorite.product.ailments.all %}
                    {{ ailment.name }}
                    {% endfor %}
                    <p class="contact-text-product">Contact me for details:
                        <br>
                        <a href="" target="_blank">
                            <i class="fa-brands fa-whatsapp"></i>
                        </a>
                        <a href="" target="_blank">
                            <i class="fa-brands fa-facebook-messenger"></i>
                        </a>
                        <a href="https://www.facebook.com/gherasim.cosmina" target="_blank">
                            <i class="fa-brands fa-facebook"></i>
                        </a>
                        <a href="https://tinyurl.com/yc2knt2p" target="_blank">
                            <i class="fa-brands fa-instagram"></i>
                        </a>
                        <i class=""></i>
                    </p>
                </div>
            </div>
            <div class="product-separator">
                <hr>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

{% block content %}
{% endblock %}